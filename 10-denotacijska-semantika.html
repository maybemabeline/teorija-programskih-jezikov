

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Denotacijska semantika &#8212; Teorija programskih jezikov</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"intsym": ["\\underline{#1}", 1], "kwd": ["\\mathbf{#1}", 1], "kwdpre": ["\\kwd{#1}\\;", 1], "kwdmid": ["\\;\\kwd{#1}\\;", 1], "kwdpost": ["\\;\\kwd{#1}", 1], "true": "\\kwd{true}", "false": "\\kwd{false}", "ifthenelse": ["\\kwdpre{if} #1 \\kwdmid{then} #2 \\kwdmid{else} #3", 3], "whiledo": ["\\kwdpre{while} #1 \\kwdmid{do} #2", 2], "skip": "\\kwd{skip}", "ttt": "t\\!t", "fff": "f\\!\\!f", "infer": ["\\displaystyle{\\frac{#1}{#2}}", 2], "boolty": "\\kwd{bool}", "intty": "\\kwd{int}", "eqs": "\\mathcal{E}", "ctxt": "\\mathcal{C}", "itp": ["[\\![ #1 ]\\!]", 1], "return": "\\kwdpre{return}", "letin": ["\\kwdpre{let} #1 \\kwdmid{in}", 1], "bind": "\\mathop{>\\!\\!\\!>\\!\\!\\!=}"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '10-denotacijska-semantika';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Vaje" href="10-denotacijska-semantika-vaje.html" />
    <link rel="prev" title="Vaje" href="07-izpeljava-tipov-vaje.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="00-uvod.html">
  
  
  
  
  
    <p class="title logo__title">Teorija programskih jezikov</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00-uvod.html">
                    Teorija programskih jezikov
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Osnove</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="01-praksa-programskih-jezikov.html">Praksa programskih jezikov</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="01-praksa-programskih-jezikov-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="03-indukcija.html">Indukcija</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="03-indukcija-vaje.html">Vaje</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Metateorija</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="04-metateorija-programskih-jezikov.html">Metateorija programskih jezikov</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="04-metateorija-programskih-jezikov-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="05-lambda-racun.html">λ-račun</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="05-lambda-racun-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="06-tipi.html">Tipi</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="06-tipi-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="07-izpeljava-tipov.html">Izpeljava tipov</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="07-izpeljava-tipov-vaje.html">Vaje</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Denotacijska semantika</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Denotacijska semantika</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="10-denotacijska-semantika-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="11-domene.html">Domene</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="11-domene-vaje.html">Vaje</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Učinki</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="08-racunski-ucinki.html">Računski učinki</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="08-racunski-ucinki-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="12-monade.html">Monade</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="12-monade-vaje.html">Vaje</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="13-prestrezniki-ucinkov.html">Prestrezniki učinkov</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="13-prestrezniki-ucinkov-vaje.html">Vaje</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/10-denotacijska-semantika.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Denotacijska semantika</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kontekstna-ekvivalenca">Kontekstna ekvivalenca</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacije-tipov-in-izrazov">Interpretacije tipov in izrazov</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#povezava-med-denotacijsko-in-operacijsko-semantiko">Povezava med denotacijsko in operacijsko semantiko</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="denotacijska-semantika">
<h1>Denotacijska semantika<a class="headerlink" href="#denotacijska-semantika" title="Permalink to this heading">#</a></h1>
<p>Denotacijska semantika pomen programom daje prek obstoječih matematičnih pojmov, s čimer dobimo nov pogled in tudi dostop do široke palete orodij. Na primer, v matematiki smo navajeni, da eno vrednost lahko kjerkoli zamenjamo z drugo, ki ji je enaka. Na primer, <span class="math notranslate nohighlight">\(6 \cdot 7\)</span> lahko vedno zamenjamo z <span class="math notranslate nohighlight">\(42\)</span> in dobimo enak rezultat.</p>
<p>V programskih jezikih zgodba ni tako enostavna, saj izraza <span class="math notranslate nohighlight">\(M = \intsym{6} + \intsym{7}\)</span> in <span class="math notranslate nohighlight">\(\intsym{42}\)</span> nista enaka, pa bi vendar radi prvega zamenjali z drugim, da na primer s tem dobimo krajši in hitrejši program. Kdaj to lahko storimo?</p>
<p>Res je, da velja <span class="math notranslate nohighlight">\(M \leadsto \intsym{42}\)</span>, vendar pa že izraza <span class="math notranslate nohighlight">\(\lambda x. M * x\)</span> in <span class="math notranslate nohighlight">\(\lambda x. \intsym{42} * x\)</span> nista enaka, hkrati pa sta vrednosti, zato niti ne obstaja zaporedje korakov, ki bi ju pripeljalo skupaj. A vseeno sta obe funkciji na nek način ekvivalentni, saj bosta uporabljeni na istih številih na koncu dali isti rezultat. Seveda se izraz <span class="math notranslate nohighlight">\(M\)</span> lahko pojavi tudi v funkcijah višjega reda in z zamenjavo z <span class="math notranslate nohighlight">\(\intsym{42}\)</span> bomo dobili drugačno funkcijo, ki pa bo na <em>ekvivalentnih</em> argumentih dala <em>ekvivalentne</em> rezultate. Ampak tudi s funkcijami višjega reda nismo izčrpali vseh možnih izrazov, v katerih se lahko pojavi <span class="math notranslate nohighlight">\(M\)</span>.</p>
<section id="kontekstna-ekvivalenca">
<h2>Kontekstna ekvivalenca<a class="headerlink" href="#kontekstna-ekvivalenca" title="Permalink to this heading">#</a></h2>
<p>Formalizacija zgornjih misli nas pripelje do pojma kontekstne ekvivalence. <em>Konteksti</em> <span class="math notranslate nohighlight">\(\ctxt\)</span> (ki imajo žal isto ime, ampak drugačen pomen od že znanih kontekstov <span class="math notranslate nohighlight">\(\Gamma\)</span>) predstavljajo izraze, v katerih se lahko na poljubnih mestih pojavijo <em>luknje</em> <span class="math notranslate nohighlight">\([]\)</span>. Na primer, za lambda račun s preprostimi tipi jih podamo s sintakso:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{align*}
    \text{kontekst } \ctxt &amp;::=
        [\,]
        \mid x
        \mid \true
        \mid \false
        \mid \ifthenelse{\ctxt}{\ctxt_1}{\ctxt_2} \\
        &amp;\mid \intsym{n}
        \mid \ctxt_1 + \ctxt_2
        \mid \ctxt_1 * \ctxt_2
        \mid \ctxt_1 &lt; \ctxt_2 \\
        &amp;\mid \lambda x. \ctxt
        \mid \ctxt_1 \, \ctxt_2
\end{align*}
\end{split}\]</div>
<p>Če imamo kontekst <span class="math notranslate nohighlight">\(\ctxt\)</span>, lahko vse luknje zamenjamo z izrazom <span class="math notranslate nohighlight">\(M\)</span> in dobimo izraz, ki ga označimo z <span class="math notranslate nohighlight">\(\ctxt[M]\)</span>. Na primer, če je <span class="math notranslate nohighlight">\(\ctxt = \lambda x. \ifthenelse{x &lt; [\,]}{x}{[\,]}\)</span> in <span class="math notranslate nohighlight">\(M = \intsym{6} * \intsym{7}\)</span>, je</p>
<div class="math notranslate nohighlight">
\[
  \ctxt[M] = \lambda x. \ifthenelse{x &lt; (\intsym{6} * \intsym{7})}{x}{(\intsym{6} * \intsym{7})}
\]</div>
<p>Pravimo, da sta izraza <span class="math notranslate nohighlight">\(M\)</span> in <span class="math notranslate nohighlight">\(N\)</span> <em>kontekstno ekvivalentna</em>, kar pišemo kot  <span class="math notranslate nohighlight">\(M \simeq N\)</span>, kadar za poljuben kontekst <span class="math notranslate nohighlight">\(\ctxt\)</span> velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \true\)</span> natanko takrat, kadar velja <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \true\)</span>.</p>
<p>Izkaže se, da zaradi poljubne izbire kontekstov <span class="math notranslate nohighlight">\(\ctxt\)</span> iz zgornje definicije sledi tudi enakost drugih rezultatov.</p>
<p><strong>Trditev.</strong> Če velja <span class="math notranslate nohighlight">\(M \simeq N\)</span>, potem za poljuben kontekst <span class="math notranslate nohighlight">\(\ctxt\)</span> velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \false\)</span> natanko takrat, kadar velja <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \false\)</span>.</p>
<p><strong>Dokaz.</strong> Naj velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \false\)</span>. Tedaj definirajmo <span class="math notranslate nohighlight">\(\ctxt' = \ifthenelse{\ctxt}{\false}{\true}\)</span>, zato velja <span class="math notranslate nohighlight">\(\ctxt'[M] \leadsto^* \ifthenelse{\false}{\false}{\true} \leadsto \true\)</span>, zato iz <span class="math notranslate nohighlight">\(M \simeq N\)</span> sledi tudi <span class="math notranslate nohighlight">\(\ctxt'[N] \leadsto^* \true\)</span>, kar pa je možno le, če je <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \false\)</span>. V drugo smer je dokaz enak. ■</p>
<p><strong>Trditev.</strong> Če velja <span class="math notranslate nohighlight">\(M \simeq N\)</span>, potem za poljuben kontekst <span class="math notranslate nohighlight">\(\ctxt\)</span> velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \intsym{n}\)</span> natanko takrat, kadar velja <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \intsym{n}\)</span>.</p>
<p><strong>Dokaz.</strong> Naj velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \intsym{n}\)</span>. Tedaj definirajmo <span class="math notranslate nohighlight">\(\ctxt'\)</span> kot <span class="math notranslate nohighlight">\((\ctxt = \intsym{n})\)</span>. Tedaj velja <span class="math notranslate nohighlight">\(\ctxt'[M] \leadsto^* (\intsym{n} = \intsym{n}) \leadsto \true\)</span>, zato iz <span class="math notranslate nohighlight">\(M \simeq N\)</span> sledi tudi <span class="math notranslate nohighlight">\(\ctxt'[N] \leadsto^* \true\)</span>, kar pa je možno le, če je <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \intsym{n}\)</span>. V drugo smer je dokaz enak. ■</p>
<p>Če imamo v jeziku na voljo rekurzijo, lahko kontekstno ekvivalenco definiramo celo tako, da izraz <span class="math notranslate nohighlight">\(\ctxt[M]\)</span> konvergira natanko tedaj, kadar konvergira izraz <span class="math notranslate nohighlight">\(\ctxt[N]\)</span>, saj lahko kontekst ovijemo s pogojnim izrazom, ki v eni veji konvergira, v drugi pa divergira.</p>
<p>Ob vsem moramo biti pozorni na dejstvo, da za veliko večino kontekstov <span class="math notranslate nohighlight">\(\ctxt\)</span> izraz <span class="math notranslate nohighlight">\(\ctxt[M]\)</span> sploh nima tipa in se pri izvajanju zatakne, vendar se tudi pri teh kontekstih popolnoma enako obnaša izraz <span class="math notranslate nohighlight">\(\ctxt[N]\)</span>. Tako se lahko omejimo samo na kontekste <span class="math notranslate nohighlight">\(\ctxt\)</span>, za katere ima  <span class="math notranslate nohighlight">\(\ctxt[M]\)</span> veljaven tip.</p>
<p>Kontekstna ekvivalenca je tisto, kar želimo, vendar je delo z njo precej neobvladljivo, saj moramo kvantificirati čez vse kontekste, ki nimajo preveč lepih lastnosti. Namesto tega se vrnemo nazaj na začetek. Pojme iz našega jezika bomo prevedli na dobro znane matematične pojme, kot so množice in funkcije, saj lahko na njih uporabimo običajno enakost.</p>
</section>
<section id="interpretacije-tipov-in-izrazov">
<h2>Interpretacije tipov in izrazov<a class="headerlink" href="#interpretacije-tipov-in-izrazov" title="Permalink to this heading">#</a></h2>
<p>Ko delamo s tipi, si v ozadju vedno predstavljamo množico vrednosti, ki jih zasedajo. To bomo formalizirali in za vsak tip <span class="math notranslate nohighlight">\(A\)</span> definirali njegovo <em>interpretacijo</em> <span class="math notranslate nohighlight">\(\itp{A}\)</span>, ki je množica, rekurzivno definirana kot:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{align*}
    \itp{\boolty} &amp;= \mathbb{B} = \{ \ttt, \fff \} \\
    \itp{\intty} &amp;= \mathbb{Z} \\
    \itp{A \to B} &amp;= \itp{B}^{\itp{A}}
    \end{align*}
\end{split}\]</div>
<p>Pri interpretaciji izrazov se bomo omejili na tiste, ki imajo dobro definiran tip. Predstavljamo si lahko, da bomo vsak izraz <span class="math notranslate nohighlight">\(M\)</span> tipa <span class="math notranslate nohighlight">\(A\)</span> interpretirali z elementom <span class="math notranslate nohighlight">\(\itp{M} \in \itp{A}\)</span>. Stvar se malo zaplete, ker se v <span class="math notranslate nohighlight">\(M\)</span> lahko pojavijo proste spremenljivke iz nekega konteksta <span class="math notranslate nohighlight">\(\Gamma\)</span>, kar pomeni, da moramo tudi za vsako izmed njih določiti ustrezno vrednost. Zato definiramo interpretacijo kontekstov s kartezičnim produktom</p>
<div class="math notranslate nohighlight">
\[
  \itp{x_1 : A_1, \dots, x_n : A_n} = \itp{A_1} \times \dots \times \itp{A_n}
\]</div>
<p>Tedaj lahko interpretacijo izraza <span class="math notranslate nohighlight">\(\Gamma \vdash M : A\)</span> podamo s preslikavo <span class="math notranslate nohighlight">\(\itp{M} : \itp{\Gamma} \to \itp{A}\)</span>. Pri tem moramo biti pozorni, da preslikava ni odvisna samo od izraza, temveč od celotne določitve tipa, zato bi v resnici morali pisati</p>
<div class="math notranslate nohighlight">
\[
  \itp{\Gamma \vdash M : A} : \itp{\Gamma} \to \itp{A}
\]</div>
<p>čeprav bomo povečini uporabljali krajši zapis. Interpretacijo podamo rekurzivno kot:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\itp{\Gamma \vdash x_i : A_i}(a_1, \dots, a_n) &amp;= a_i \\
\itp{\Gamma \vdash \true : \boolty}(\gamma) &amp;= \ttt \\
\itp{\Gamma \vdash \false : \boolty}(\gamma) &amp;= \fff \\
\itp{\Gamma \vdash \ifthenelse{M}{M_1}{M_2} : A}(\gamma) &amp;=
  \begin{cases}
    \itp{M_1}(\gamma) &amp; \itp{M}(\gamma) = \ttt \\
    \itp{M_2}(\gamma) &amp; \itp{M}(\gamma) = \fff
  \end{cases} \\
\itp{\Gamma \vdash \intsym{n} : \intty}(\gamma) &amp;= n \\
\itp{\Gamma \vdash M_1 + M_2 : \intty}(\gamma) &amp;= \itp{M_1}(\gamma) + \itp{M_2}(\gamma) \\
\itp{\Gamma \vdash M_1 * M_2 : \intty}(\gamma) &amp;= \itp{M_1}(\gamma) \cdot \itp{M_2}(\gamma) \\
\itp{\Gamma \vdash M_1 &lt; M_2 : \boolty}(\gamma) &amp;=
  \begin{cases}
    \ttt &amp; \itp{M_1}(\gamma) &lt; \itp{M_2}(\gamma) \\
    \fff &amp; \text{sicer}
  \end{cases} \\
\itp{\Gamma \vdash \lambda x. M : A \to B}(\gamma) &amp;= a \mapsto \itp{\Gamma, x : A \vdash M : B}(\gamma, a) \\
\itp{\Gamma \vdash M_1 \, M_2 : B}(\gamma) &amp;= \big(\itp{M_1}(\gamma)\big)\big(\itp{M_2}(\gamma)\big)
\end{align*}
\end{split}\]</div>
<p>Na primer, interpretacija izraza <span class="math notranslate nohighlight">\(x : \intty \vdash \lambda y. \intsym{2} * x &gt; y + 5\)</span> je funkcija <span class="math notranslate nohighlight">\(\mathbb{Z} \to \mathbb{B}^{\mathbb{Z}}\)</span>, podana z</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\itp{x : \intty \vdash \lambda y. \intsym{2} * x &gt; y + 5}(m)
  &amp;= n \mapsto \itp{x : \intty, y : \intty \vdash \intsym{2} * x &gt; y + 5}(m, n) \\
  &amp;= n \mapsto \begin{cases}
    \ttt &amp; \itp{\intsym{2} * x}(m, n) &gt; \itp{y + 5}(m, n) \\
    \fff &amp; \text{sicer}
  \end{cases} \\
  &amp;= n \mapsto \begin{cases}
    \ttt &amp; 2 \cdot m &gt; n + 5 \\
    \fff &amp; \text{sicer}
  \end{cases}
\end{align*}
\end{split}\]</div>
</section>
<section id="povezava-med-denotacijsko-in-operacijsko-semantiko">
<h2>Povezava med denotacijsko in operacijsko semantiko<a class="headerlink" href="#povezava-med-denotacijsko-in-operacijsko-semantiko" title="Permalink to this heading">#</a></h2>
<p>Ker imamo za isti jezik dve različni semantiki, se lahko vprašamo, ali se ujemata. In res, če en izraz naredi korak v drugega, se njuni interpretaciji ujemata. Po izreku o varnosti vemo, da bo tudi drugi izraz imel interpretacijo, če jo ima prvi.</p>
<p><strong>Trditev (skladnost).</strong> Če za izraz <span class="math notranslate nohighlight">\(\vdash M : A\)</span> velja <span class="math notranslate nohighlight">\(M \leadsto M'\)</span>, potem je <span class="math notranslate nohighlight">\(\itp{M} = \itp{M'}\)</span>.</p>
<p>V dokazu bomo uporabili lemo o substituciji, ki jo dokažemo z rutinsko indukcijo.</p>
<p><strong>Lema.</strong> Za izraza <span class="math notranslate nohighlight">\(\Gamma, x : A \vdash M : B\)</span> in <span class="math notranslate nohighlight">\(\Gamma \vdash N : A\)</span> velja</p>
<div class="math notranslate nohighlight">
\[
  \itp{\Gamma \vdash M[N / x] : B}(\gamma) = \itp{M}(\gamma, \itp{N}(\gamma))
\]</div>
<p><strong>Dokaz.</strong> Dokaz poteka z indukcijo na <span class="math notranslate nohighlight">\(M \leadsto M'\)</span>. Za primer si oglejmo pravilo</p>
<div class="math notranslate nohighlight">
\[\infer{
    M_1  \leadsto  M_1'
}{
    M_1 \, M_2  \leadsto  M_1' \, M_2
}\]</div>
<p>Če velja <span class="math notranslate nohighlight">\(\vdash M_1 \, M_2 : A\)</span>, potem je <span class="math notranslate nohighlight">\(\itp{M_1 \, M_2} = \itp{M_1}(\itp{M_2})\)</span>, pri čemer smo zaradi praznega konteksta izpustili pisanje trivialnih argumentov. Po indukcijski predpostavki je <span class="math notranslate nohighlight">\(\itp{M_1} = \itp{M_1'}\)</span>, zato je tudi <span class="math notranslate nohighlight">\(\itp{M_1 \, M_2} = \itp{M_1' \, M_2}\)</span>.</p>
<p>Pri pravilu</p>
<div class="math notranslate nohighlight">
\[\infer{}{
    (\lambda x. M) \, V  \leadsto  M[V / x]
}\]</div>
<p>pa na levi strani dobimo</p>
<div class="math notranslate nohighlight">
\[
  \itp{(\lambda x. M) \, V}(\gamma) = \itp{M}(\gamma, \itp{V}(\gamma))
\]</div>
<p>kar je po lemi o substituciji enako <span class="math notranslate nohighlight">\(\itp{M[V / x]}\)</span>. ■</p>
<p>V obratno smer trditev ne velja. Na primer, <span class="math notranslate nohighlight">\(\itp{\lambda x. x + x} = \itp{\lambda x. \intsym{2} * x}\)</span>, sta različna izraza, ki sta vrednosti, zato noben ne more narediti enega ali več korakov v drugega. A kot smo omenili že na začetku, ne zanima nas enakost, temveč samo ekvivalentnost rezultatov. Dovolj je, če obrat pokažemo že v enem konkretnem primeru.</p>
<p><strong>Trditev (zadostnost).</strong> Če za <span class="math notranslate nohighlight">\(\vdash M : \boolty\)</span> velja <span class="math notranslate nohighlight">\(\itp{M} = \ttt\)</span>, potem velja <span class="math notranslate nohighlight">\(M \leadsto^* \true\)</span>.</p>
<p>Dokaz je zahteven, zato ga bomo izpustili. Lažji pa je dokaz spološnejše posledice.</p>
<p><strong>Izrek.</strong> Če za <span class="math notranslate nohighlight">\(\Gamma \vdash M : A\)</span> in <span class="math notranslate nohighlight">\(\Gamma \vdash N : A\)</span> velja <span class="math notranslate nohighlight">\(\itp{M} = \itp{N}\)</span>, potem velja tudi <span class="math notranslate nohighlight">\(M \simeq N\)</span>.</p>
<p><strong>Dokaz.</strong> Vzemimo poljuben kontekst <span class="math notranslate nohighlight">\(\ctxt\)</span>, za katerega velja <span class="math notranslate nohighlight">\(\ctxt[M] \leadsto^* \true\)</span>. Brez škode za splošnost (čeprav tega nismo dokazali) se lahko omejimo na kontekste, za katere je <span class="math notranslate nohighlight">\(\vdash \ctxt[M] : \boolty\)</span>, torej je <span class="math notranslate nohighlight">\(\itp{\ctxt[M]}\)</span> definirana in po skladnosti z operacijsko semantiko enaka <span class="math notranslate nohighlight">\(\itp{\true} = \ttt\)</span>. Ker je interpretacija podana strukturno, je vrednost <span class="math notranslate nohighlight">\(\itp{\ctxt[M]}\)</span> na tistih mestih, kjer se v <span class="math notranslate nohighlight">\(\ctxt\)</span> pojavljajo luknje <span class="math notranslate nohighlight">\([\,]\)</span>, odvisna le od <span class="math notranslate nohighlight">\(\itp{M}\)</span>. Ker je <span class="math notranslate nohighlight">\(\itp{M} = \itp{N}\)</span>, je torej tudi <span class="math notranslate nohighlight">\(\itp{\ctxt[N]} = \itp{\ctxt[M]} = \ttt\)</span>. Po zadostnosti torej obstaja zaporedje korakov <span class="math notranslate nohighlight">\(\ctxt[N] \leadsto^* \true\)</span>, kar smo želeli pokazati. Obrat pokažemo simetrično. ■</p>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="07-izpeljava-tipov-vaje.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Vaje</p>
      </div>
    </a>
    <a class="right-next"
       href="10-denotacijska-semantika-vaje.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Vaje</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kontekstna-ekvivalenca">Kontekstna ekvivalenca</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacije-tipov-in-izrazov">Interpretacije tipov in izrazov</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#povezava-med-denotacijsko-in-operacijsko-semantiko">Povezava med denotacijsko in operacijsko semantiko</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Matija Pretnar
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>